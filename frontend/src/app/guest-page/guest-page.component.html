<app-user-navbar></app-user-navbar>

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>
    <body>
        <div>
            <br>
            <br>
            <h1>Number of restaurants: {{num_of_restaurants}}, Number of registered guests: {{num_of_registered_users}}, Number of reservations in last 24h: {{num_of_reservations_last24h}} </h1>
            <h1>Number of reservations in last 7 days: {{num_of_reservations_last7d}}, Number of reservations in last month: {{num_of_reservations_last1m}}</h1>

<div class="filter-container">
    <label for="filter">Filter by:</label>
    <select id="filter" [(ngModel)]="filter_option" (change)="apply_filter()">
      <option value="none">None</option>
      <option value="name">Name</option>
      <option value="address">Address</option>
      <option value="type">Type</option>
    </select>

</div>

<div class="filter-container">
    <label for="filter">Order by:</label>
    <select id="filter" [(ngModel)]="order_option" (change)="apply_order()">
      <option value="asc">Ascending</option>
      <option value="desc">Descending</option>
    </select>

</div>

<button (click)="filter()">Filter</button>

<div class="search-container">
    <input type="text" placeholder="Search by name" [(ngModel)]="search_input_name">
    <input type="text" placeholder="Search by address" [(ngModel)]="search_input_address">
    <input type="text" placeholder="Search by type" [(ngModel)]="search_input_type">
    
    <button (click)="on_search()">Search</button>
</div>

<div>
    <h1 *ngFor="let r of searched_restaurants">{{r.name}} {{r.address}} {{r.type}}</h1>
</div>


<table>
    <th>Restaurant name |</th>
    <th>Restaurant address |</th>
    <th>Restaurant type |</th>
    <th>Waiters |</th>
    <tr *ngFor="let r of restaurants">
        <td>{{r.name}}</td>
        <td>{{r.address}}</td>
        <td>{{r.type}}</td>
        <td>
            <p *ngFor="let w of r.waiters">
                {{w.name}} {{w.surname}}
            </p>
        </td>
    </tr>
</table>
            <p class="err-msg">{{err_msg}}</p>
        </div>
    </body>
</html>


