<app-waiter-navbar></app-waiter-navbar>

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>
    <body>
        <div class="container">
            <p-table [value]="reservations" [tableStyle]="{'min-width': '60rem'}">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Guest name</th>
                        <th>Guest surname</th>
                        <th>Restaurant name</th>
                        <th>Reservation date</th>
                        <th>Number of guests</th>
                        <th>Status</th>
                        <th>Comment</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-m>
                    <tr (click)="reservation_selected(m)">
                        <td>{{m.guest_name}}</td>
                        <td>{{m.guest_surname}}</td>
                        <td>{{m.restaurant_name}}</td>
                        <td>{{m.date}} {{m.time}}</td>
                        <td>{{m.guests_number}}</td>
                        <td>{{m.status}}</td>
                        <td>{{m.comment}}</td>
                        <td>
                            <p-button icon="pi pi-times"  severity="danger " (click)="disapprove_reservation(m)"/>
                        </td>
                        <td>
                            <p-button icon="pi pi-check"  (click)="approve_reservation(m)"/>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
            
            
            
            <div class="canvas-container">

            
                <canvas #myCanvas width="500" height="500"></canvas>
            </div>
            
            <p-dropdown 
                [options]="tables" 
                [(ngModel)]="selected_table" 
                optionLabel="num" 
                placeholder="Select a table" 
                (onChange)="onTableChange($event)">
                
            </p-dropdown>
            
            <textarea 
                rows="5"
                cols="30" 
                pInputTextarea 
                [(ngModel)]="denied">
            </textarea>
            
            <p-table [value]="active_reservations" [tableStyle]="{'min-width': '60rem'}">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Guest name</th>
                        <th>Guest surname</th>
                        <th>Restaurant name</th>
                        <th>Reservation date</th>
                        <th>Number of guests</th>
                        <th>Reserved table</th>
                        <th>Status</th>
                        <th>Comment</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-m>
                    <tr>
                        <td>{{m.guest_name}}</td>
                        <td>{{m.guest_surname}}</td>
                        <td>{{m.restaurant_name}}</td>
                        <td>{{m.date}} {{m.time}}</td>
                        <td>{{m.guests_number}}</td>
                        <td>{{m.reserved_table}}</td>
                        <td>{{m.status}}</td>
                        <td>{{m.comment}}</td>
                        <td>
                            <p-button icon="pi pi-times"  severity="danger " (click)="dint_come(m)"/>
                        </td>
                        <td>
                            <p-button icon="pi pi-check"  (click)="came(m)"/>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
            <p class="err-msg">{{err_msg}}</p>
        </div>
    </body>
</html>
